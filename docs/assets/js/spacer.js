!function r(a,o,i){function s(t,e){if(!o[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(p)return p(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},a[t][0].call(n.exports,function(e){return s(a[t][1][e]||e)},n,n.exports,r,a,o,i)}return o[t].exports}for(var p="function"==typeof require&&require,e=0;e<i.length;e++)s(i[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=e("./core.js"),g=(o=i)&&o.__esModule?o:{default:o};var h=/^(script|link|style)$/i,v=/^(div|p|h1|h2|h3|h4|h5|h6|blockqoute|pre|textarea|nav|header|main|footer|section|sidbar|aside|table|li|ul|ol|dl)$/i,b=/^(br|hr|img|video|audio)$/i,r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,g.default),r(s,[{key:"spacePage",value:function(e,r,a){var o=this;e="string"==typeof e?document.querySelectorAll(e):e||document,(r=this.resolveOptions(r)).wrapper&&(r.spacingContent=r.spacingContent.replace(" ","&nbsp;")),(e=!e.forEach?[e]:e).forEach(function(e){var t,n;!function t(n,e,r){if(e.tagName&&h.test(e.tagName))return;var a=Object.assign({},r,{wrapper:!1});var o=Object.assign({},r,{wrapper:!1,spacingContent:r.spacingContent.replace("&nbsp;"," ")});var i=r;e.parentNode&&"TITLE"===e.parentNode.tagName&&(i=o);{var s,p;!e.previousSibling||e.previousSibling.tagName&&(v.test(e.previousSibling.tagName)||b.test(e.previousSibling.tagName))||e.tagName&&(v.test(e.tagName)||b.test(e.tagName))||(s=e.previousSibling.nodeType===Node.TEXT_NODE?e.previousSibling.data:e.previousSibling.textContent,((g.default.endsWithCJK(s)||g.default.endsWithSymbolsNeedSpaceFollowed(s))&&g.default.startsWithLatin(e.textContent)||(g.default.endsWithLatin(s)||g.default.endsWithSymbolsNeedSpaceFollowed(s))&&g.default.startsWithCJK(e.textContent))&&(p=i.forceUnifiedSpacing?i.spacingContent:"",i.wrapper?w(y(i.wrapper.open+p+i.wrapper.close),e):w(document.createTextNode(p||i.spacingContent),e)),i.handleOriginalSpace&&e.previousSibling.nodeType===Node.TEXT_NODE&&(g.default.endsWithCJKAndSpacing(s)&&g.default.startsWithLatin(e.textContent)||g.default.endsWithLatinAndSpacing(s)&&g.default.startsWithCJK(e.textContent))&&(p="",s=/(.*)([ ]+)$/g.match(e.previousSibling.data),e.previousSibling.data=s[1],p=s[2],p=i.forceUnifiedSpacing?i.spacingContent:i.keepOriginalSpace?p:"",i.wrapper?w(y(i.wrapper.open+p+i.wrapper.close),e):w(document.createTextNode(p||i.spacingContent),e)))}{if(e.nodeType===Node.TEXT_NODE){if(i.wrapper){var u=n.split(e.data,i);if(1==u.length)return;console.log(u);for(var c=0;c<u.length;c++){var l,f=/^[ ]*$/.test(u[c]);!f&&(0==c||/^[ ]*$/.test(u[c-1])||g.default.startsWithSymbolsNeedSpaceFollowed(u[c])||/[.]$/.test(u[c-1])&&/^\d+[%]?$|[ ]/.test(u[c])||/[:]$/.test(u[c-1])&&/^\d+/.test(u[c]))||(l=i.forceUnifiedSpacing?i.spacingContent:f&&i.keepOriginalSpace?u[c]:"",w(y(i.wrapper.open+l+i.wrapper.close),e)),f||w(document.createTextNode(u[c]),e)}e.remove()}else"TITLE"===e.parentNode.tagName?S(n,e,"data",o):S(n,e,"data",a);return}S(n,e,"title",o),S(n,e,"alt",o),S(n,e,"label",o),S(n,e,"placeholder",o)}{var d;e.childNodes&&(d=[],e.childNodes.forEach(function(e){d.push(e)}),d.forEach(function(e){t(n,e,r)}))}}(o,e,r),a&&(t=new MutationObserver(function(e,t){t.disconnect(),e.forEach(function(e){"childList"===e.type&&o.spacePage(e.addedNodes,r,!1)}),n()}),(n=function(){t.observe(e,{characterData:!0,childList:!0,attributes:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})})())})}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return e.wrapper&&(t.options.spacingContent=t.options.spacingContent.replace(" ","&nbsp;")),t}function y(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function w(e,t){"HTML"!==t.tagName&&t.parentNode&&"HTML"!==t.parentNode.tagName&&t.parentNode.insertBefore(e,t)}function S(e,t,n,r){t[n]&&(r=e.space(t[n],r),t[n]!==r&&(t[n]=r))}n.default=r},{"./core.js":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{return new RegExp("(?<=exp)"),!0}catch(e){return!1}}(),s="A-Za-z0-9À-ÿĀ-ſƀ-ɏḀ-ỿ",p="[ ]*",u="[.:,?!]",c="[⺀-⿟぀-﹏]",l="["+s+"%]",f=E(l,p,c)+"|"+E(c,p,l),d=E(u,"",c+"|[A-Za-z0-9À-ÿĀ-ſƀ-ɏḀ-ỿ]"),s=E(l,"",c),p=E(c,"",l),g=(new RegExp(c),new RegExp(u+"$")),h=new RegExp("^"+u),v=new RegExp(c+"[ ]+$"),b=new RegExp(l+"[ ]+$"),y=new RegExp(c+"$"),w=new RegExp(l+"$"),S=new RegExp("^"+c),m=new RegExp("^"+l),N=new RegExp("([ ]*)$"),O=new RegExp("("+s+"|"+p+"|"+d+")","g"),C=new RegExp("("+f+"|"+d+")","g");function E(e,t,n){return x.call(o?"(?<={0}){1}(?={2})":"{0}{1}(?={2})",e,t,n)}function x(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(0==n.length)return e;var a,o=1==n.length&&"object"===i(n[1])?n[1]:n;for(a in o)void 0!==o[a]&&(e=e.replaceAll("{"+a+"}",o[a]));return e}var T={spacingContent:" "},W={},r=(r(_,[{key:"space",value:function(e,i){e=this.split(e,i);return i=this.resolveOptions(i),e.reduce(function(e,t,n,r){var a="",o=/^[ ]*$/.test(t);return o&&i.forceUnifiedSpacing&&(t=i.spacingContent),!o&&(h.test(t)||/\d+\.$/.test(e)&&/^\d+[%]?$/.test(t)||/\d+:$/.test(e)&&/^\d+/.test(t))?e+t:(i.wrapper?o?t=i.keepOriginalSpace?i.wrapper.open+t+i.wrapper.close:i.wrapper.open+i.wrapper.close:a=i.wrapper.open+i.wrapper.close:o?i.keepOriginalSpace||(t=i.spacingContent):a=i.spacingContent,e+a+t)})}},{key:"split",value:function(e,t){if(t=this.resolveOptions(t),"string"!=typeof e)return[e];var r,t=t.handleOriginalSpace?C:O,t=e.split(t);return 1<t.length&&!o&&(r=[],t.flatMap(function(e,t,n){return void 0!==e&&0<e.length?e.split(N):[]}).forEach(function(e,t,n){if(1==e.length&&0<t&&!/^[ ]*$/.test(e)){t=n[t-1];if(!_.endsWithCJK(t)&&!_.startsWithCJK(e)||!_.endsWithLatin(t)&&!_.startsWithLatin(e))return void(r[r.length-1]+=e)}r.push(e)}),t=r),t.filter(function(e,t,n){return""!==e})}},{key:"resolveOptions",value:function(e){return e?Object.assign({},this.options,k(e)):this.options}}],[{key:"config",value:function(e){e=k(e),Object.assign(W,T,e)}},{key:"endsWithCJKAndSpacing",value:function(e){return v.test(e)}},{key:"endsWithCJK",value:function(e){return y.test(e)}},{key:"endsWithLatin",value:function(e){return w.test(e)}},{key:"startsWithCJK",value:function(e){return S.test(e)}},{key:"startsWithLatin",value:function(e){return m.test(e)}},{key:"endsWithLatinAndSpacing",value:function(e){return b.test(e)}},{key:"endsWithSymbolsNeedSpaceFollowed",value:function(e){return g.test(e)}},{key:"startsWithSymbolsNeedSpaceFollowed",value:function(e){return h.test(e)}}]),_);function _(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),this.options=(e=k(e=e),Object.assign({},T,W,e))}function k(e){return"string"==typeof e?{spacingContent:e}:e}n.default=r},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("./browser.js"),o=(r=a)&&r.__esModule?r:{default:r};"function"==typeof define&&define.amd&&define([],function(){return{Spacer:o.default}}),void 0!==n&&(n.Spacer=o.default),"undefined"!=typeof window&&(window.Spacer=o.default),n.default=o.default},{"./browser.js":1}]},{},[3]);